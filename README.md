# rlly - A C++ library for reinforcement learning environments (under development)

Our goal is to provide a C++ alternative to [OpenAI gym](https://gym.openai.com/), starting with the simplest environments.

## Requirements

* C++ 17

* For rendering:
    * OpenGL
    * [freeglut](http://freeglut.sourceforge.net/) 
        ```console
        $ sudo apt-get install freeglut3-dev
        ```
    * __Remark:__ It is possible to use the library without rendering options and avoid these requirements.

* To run the notebooks in `examples`:
    * Jupyter notebook `conda install -c anaconda jupyter`
    * [xeus-cling](https://xeus-cling.readthedocs.io/en/latest/)  `conda install -c conda-forge xeus-cling`


## How to use the library

All you have to do is to copy the file `rlly.hpp` and use it in your project.

The file `rlly.hpp` is generated by running

```console
$ bash generate_header/run.sh
```

and does not include rendering classes/functions by default.

To include rendering code, run

```console
$ bash generate_header/run.sh -rendering
```

## Examples

```cpp
#include <vector>
// the header needs to be generated with -rendering option
#include "rlly.hpp"

int main()
{
    rlly::env::MountainCar env;
    env.set_seed(123);

    int horizon = 200;
    rlly::utils::vec::vec_2d states; // or std::vector<std::vector<double>> states;
    for(int hh = 0; hh < horizon; hh++)
    {
        auto action = env.action_space.sample();
        auto step_result = env.step(action);
        states.push_back(step_result.next_state);
    }

    rlly::render::render_env(states, env);
    return 0;
}
```

![alt text](https://github.com/omardrwch/rlly/blob/master/figures/MountainCar.png "MountainCar rendering")


For more examples, see folder `examples/`.


## Documentation

To view the documentation, run

```
doxygen Doxyfile
```

and open the file `docs/html/index.html`.


## Testing

### Creating a new test

* Create a file `test/my_test.cpp` using [Catch2](https://github.com/catchorg/Catch2/blob/master/docs/tutorial.md).

* In the file `test/CMakeLists.txt`, include `my_test.cpp` in the list of files in `add_executable()`.

* Run

```
$ bash scripts/run_tests.sh
```

